Search.setIndex({"docnames": ["api", "deployment", "development", "index"], "filenames": ["api.rst", "deployment.rst", "development.rst", "index.rst"], "titles": ["API Reference", "Deployment Guide", "Development Guide", "exodus-gw"], "terms": {"thi": [0, 1, 2], "page": 0, "i": [0, 1, 2, 3], "placehold": [0, 1], "expect": [0, 1], "overwritten": 0, "openapi": 0, "html": 0, "dure": [0, 1, 3], "doc": 0, "build": 0, "If": [0, 1, 2], "you": [0, 2], "ar": [0, 1, 2], "see": [0, 1, 2, 3], "publish": [0, 1, 2, 3], "someth": 0, "ha": [0, 1, 2], "gone": 0, "wrong": 0, "pleas": 0, "report": 0, "exodu": 1, "gw": 1, "an": [1, 2, 3], "asgi": 1, "applic": 1, "which": [1, 2], "mai": [1, 2], "deploi": 1, "us": [1, 2, 3], "ani": [1, 2], "compliant": 1, "web": 1, "server": [1, 2], "The": [1, 2], "develop": [1, 3], "team": 1, "": [1, 2, 3], "recommend": [1, 2], "setup": 1, "summar": 1, "openshift": [1, 2], "4": 1, "x": [1, 2], "servic": [1, 3], "imag": 1, "http": [1, 2], "quai": 1, "io": 1, "repositori": [1, 2], "run": [1, 3], "These": 1, "gunicorn": 1, "uvicorn": [1, 2], "rhel8": 1, "In": [1, 2], "gener": [1, 2, 3], "advic": 1, "appli": [1, 2], "primari": 1, "contain": [1, 2], "behind": 1, "revers": 1, "proxi": [1, 2], "implement": 1, "accord": 1, "your": [1, 2], "organ": 1, "need": [1, 2], "next": 1, "section": 1, "doe": [1, 2], "mechan": 1, "It": [1, 2, 3], "instead": [1, 2], "design": [1, 2], "integr": 1, "desir": 1, "without": [1, 2], "must": [1, 2], "consid": [1, 2], "complet": [1, 2], "unsecur": 1, "all": [1, 2], "user": [1, 2], "abl": 1, "perform": 1, "oper": 1, "add": [1, 2], "rhapiplatform": [1, 2], "callcontext": [1, 2], "header": [1, 2], "onto": [1, 3], "incom": 1, "request": [1, 2], "base64": 1, "encod": 1, "form": 1, "follow": [1, 2], "json": 1, "object": [1, 2], "client": 1, "role": [1, 2], "somerol": 1, "anotherrol": 1, "true": [1, 2], "serviceaccountid": 1, "clientappnam": 1, "viewer": 1, "internalusernam": 1, "someus": 1, "field": 1, "influenc": 1, "whether": [1, 2], "permit": 1, "necessari": [1, 2], "document": [1, 2], "relev": 1, "api": [1, 2, 3], "endpoint": [1, 2], "other": [1, 2], "unus": 1, "onli": [1, 2], "log": [1, 2], "separ": 1, "can": [1, 2], "account": 1, "machin": 1, "from": [1, 2], "human": 1, "affect": 1, "within": [1, 2], "red": [1, 2, 3], "hat": [1, 2, 3], "known": 1, "sidecar": [1, 2], "consult": 1, "intern": [1, 2], "inform": [1, 2, 3], "compon": [1, 2], "context": [1, 2], "long": 1, "produc": [1, 2], "scheme": [1, 2], "abov": [1, 2], "postgr": [1, 2], "On": 1, "startup": 1, "ensur": [1, 2], "db": [1, 2], "requir": [1, 2], "schema": [1, 2], "goal": 1, "onlin": 1, "minim": 1, "disrupt": 1, "even": 1, "old": 1, "new": [1, 2], "version": [1, 2], "simultan": 1, "exampl": [1, 2], "roll": 1, "downgrad": 1, "earlier": 1, "directli": 1, "support": [1, 2], "howev": [1, 2], "store": 1, "perman": 1, "state": [1, 2], "drop": [1, 2], "recreat": [1, 2], "viabl": 1, "option": [1, 2], "class": 1, "exodus_gw": 1, "sourc": [1, 2], "configur": 1, "each": 1, "valu": [1, 2], "overridden": 1, "environ": [1, 3], "variabl": [1, 2], "same": [1, 2], "name": [1, 2], "prefix": 1, "exodus_gw_": [1, 2], "exodus_gw_call_context_head": 1, "call_context_head": 1, "str": 1, "extract": 1, "call": [1, 2], "upload_meta_field": 1, "dict": 1, "metadata": 1, "s3": [1, 2], "upload": [1, 2, 3], "regex": 1, "valid": [1, 2], "e": [1, 2], "g": [1, 2], "md5": 1, "0": 1, "9a": 1, "f": [1, 2], "32": 1, "publish_path": 1, "list": [1, 2], "A": [1, 2], "particular": 1, "path": 1, "given": 1, "describ": [1, 2], "prevent": 1, "do": 1, "match": [1, 2], "defin": [1, 2], "regular": 1, "express": 1, "pre": 1, "fake": 1, "content": [1, 2], "origin": 1, "file": [1, 2], "sha256": 1, "2": 1, "64": 1, "1": 1, "300": 1, "includ": [1, 2], "have": [1, 2], "unrestrict": 1, "access": [1, 2], "log_config": 1, "dictconfig": 1, "ini_path": 1, "none": 1, "ini": [1, 2], "config": [1, 2], "addit": 1, "db_service_us": 1, "db_service_pass": 1, "password": 1, "db_service_host": 1, "host": 1, "db_service_port": 1, "port": [1, 2], "db_url": 1, "connect": [1, 2], "string": 1, "overrid": 1, "db_service_": 1, "db_reset": 1, "bool": 1, "tabl": [1, 2], "intend": 1, "db_migration_mod": 1, "migrationmod": 1, "adjust": [1, 2], "behavior": [1, 2], "when": [1, 2], "start": [1, 2], "upgrad": 1, "default": [1, 2], "db_migration_revis": 1, "latest": [1, 2], "up": 1, "should": [1, 2], "left": 1, "enabl": [1, 2], "typic": 1, "product": [1, 2], "model": [1, 2], "don": [1, 2], "t": [1, 2], "attempt": 1, "initi": [1, 2], "current": [1, 2], "sqlalchemi": [1, 2], "while": [1, 2], "prototyp": [1, 2], "chang": [1, 2], "revis": 1, "db_session_max_tri": 1, "int": 1, "maximum": 1, "number": [1, 2], "session": [1, 2], "item_yield_s": 1, "item": 1, "load": [1, 2], "one": 1, "time": [1, 2], "write_batch_s": 1, "write": [1, 2], "dynamodb": [1, 2], "write_max_tri": 1, "write_max_work": 1, "worker": [1, 2], "thread": 1, "batch": 1, "write_queue_s": 1, "queue": 1, "hold": 1, "write_queue_timeout": 1, "amount": 1, "second": 1, "wait": 1, "10": 1, "minut": 1, "publish_timeout": 1, "hour": 1, "between": 1, "updat": [1, 2], "pend": 1, "befor": 1, "abandon": 1, "dai": 1, "history_timeout": 1, "retain": 1, "histor": 1, "data": [1, 2], "task": [1, 2], "termin": 1, "eras": [1, 2], "after": 1, "pass": 1, "two": 1, "week": 1, "task_deadlin": 1, "remain": 1, "actor_time_limit": 1, "millisecond": 1, "actor": 1, "30": 1, "actor_max_backoff": 1, "back": 1, "off": 1, "retri": 1, "five": 1, "5": 1, "entry_point_fil": 1, "save": 1, "last": 1, "autoindex_filenam": 1, "filenam": 1, "index": 1, "automat": [1, 2], "empti": [1, 2], "disabl": [1, 3], "autoindex_partial_exclud": 1, "background": [1, 2], "process": [1, 2], "autoindex": 1, "config_cache_ttl": 1, "live": 1, "consum": [1, 2], "determin": 1, "delai": 1, "allow": [1, 2], "exist": 1, "expir": 1, "newli": 1, "take": 1, "effect": 1, "worker_health_filepath": 1, "verifi": [1, 2], "healthi": 1, "ocp": 1, "worker_keepalive_timeout": 1, "keepal": 1, "timeout": 1, "fail": 1, "its": [1, 2], "statu": 1, "period": 1, "assum": 1, "dead": 1, "how": [1, 3], "quickli": 1, "system": 1, "recov": 1, "issu": 1, "being": 1, "kill": 1, "unexpectedli": 1, "worker_keepalive_interv": 1, "often": 1, "cron_cleanup": 1, "cron": 1, "style": 1, "schedul": 1, "cleanup": 1, "approxim": 1, "remov": [1, 2], "scheduler_interv": 1, "check": [1, 2], "readi": 1, "note": [1, 2], "rule": 1, "accur": 1, "interv": 1, "trigger": 1, "late": 1, "scheduler_delai": 1, "cdn_flush_on_commit": 1, "commit": 1, "url": [1, 2], "where": 1, "been": [1, 2], "cdn_cookie_ttl": 1, "cooki": [1, 2], "redirect": 1, "cdn_signature_timeout": 1, "sign": 1, "cdn_max_expire_dai": 1, "expire_dai": 1, "obtain": [1, 2], "forc": 1, "renew": 1, "least": [1, 2], "frequent": 1, "s3_pool_siz": 1, "To": [1, 2], "per": 1, "avail": [1, 2], "point": 1, "specif": 1, "aw": [1, 2], "resourc": [1, 2], "declar": 1, "profil": 1, "interact": 1, "those": [1, 2], "appear": 1, "own": 1, "env": [1, 2], "prod": 1, "aws_profil": [1, 2], "bucket": [1, 2], "logger": 1, "level": 1, "also": [1, 2], "via": [1, 2], "under": 1, "loglevel": 1, "specifi": 1, "said": 1, "root": 1, "notset": 1, "info": [1, 2], "debug": 1, "akamai": 1, "edg": 1, "featur": 1, "provid": [1, 2], "relat": [1, 2], "continu": 1, "function": 1, "skip": 1, "firstli": 1, "cache_flush_url": 1, "cache_flush_arl_templ": 1, "arl": 1, "both": [1, 2], "togeth": 1, "properti": 1, "sever": 1, "cdn1": 1, "com": 1, "cdn2": 1, "templat": [1, 2], "ttl": 1, "substitut": 1, "123": 1, "22334455": 1, "secondli": 1, "below": [1, 2], "here": [1, 2], "correspond": 1, "edgerc": 1, "found": 1, "replac": 1, "exodus_gw_fastpurge_host_l": 1, "exodus_gw_fastpurge_client_secret_": 1, "client_secret": 1, "abcdecsnaat123fnkbxy456z25qx9yp5cpuxlefqetdkfh4qa": 1, "exodus_gw_fastpurge_host_": 1, "akab": 1, "lmn789n2k53w7qrs10cxy": 1, "nfkxaa4lfk3kd6ym": 1, "luna": 1, "akamaiapi": 1, "net": 1, "exodus_gw_fastpurge_access_token_": 1, "access_token": 1, "zyx987xa6osbli4k": 1, "e7jf5ikib5jknes3": 1, "exodus_gw_fastpurge_client_token_": 1, "client_token": 1, "nomoflavjuc4422": 1, "fa2xznerxrm3teg7": 1, "contribut": 2, "project": 2, "instanc": 2, "local": 2, "command": 2, "hot": 2, "reload": 2, "dev": 2, "dramatiq": 2, "directori": 2, "along": 2, "deploy": [2, 3], "manag": 2, "depend": 2, "more": [2, 3], "unit": 2, "offer": 2, "lightweight": 2, "altern": 2, "kubernet": 2, "localstack": 2, "lambda": 2, "fakefront": 2, "helper": 2, "cert": 2, "instanti": 2, "network": [2, 3], "otherwis": 2, "fedora": 2, "workstat": 2, "login": 2, "make": 2, "some": 2, "packag": 2, "so": 2, "script": 2, "want": 2, "copi": 2, "out": 2, "sibl": 2, "repo": 2, "re": 2, "miss": 2, "suggest": 2, "dnf": 2, "succe": 2, "variou": 2, "set": [2, 3], "target": [2, 3], "output": 2, "few": 2, "get": 2, "stop": 2, "persist": 2, "written": 2, "clean": 2, "custom": 2, "avoid": 2, "conflict": 2, "edit": 2, "home": 2, "For": [2, 3], "differ": 2, "rather": 2, "than": 2, "exodus_gw_db_service_port": 2, "8899": 2, "most": 2, "work": 2, "systemctl": 2, "journalctl": 2, "watch": 2, "sudo": 2, "cp": 2, "ca": 2, "crt": 2, "etc": 2, "pki": 2, "trust": 2, "anchor": 2, "certif": 2, "strongli": 2, "ssl": 2, "verif": 2, "There": 2, "signific": 2, "boto": 2, "librari": 2, "v": 2, "curl": 2, "localhost": 2, "8000": 2, "healthcheck": 2, "saniti": 2, "8010": 2, "insecur": 2, "mean": 2, "my": 2, "kei": 2, "whoami": 2, "rhc": 2, "method": 2, "beyond": 2, "scope": 2, "3377": 2, "8049": 2, "_": 2, "test": 2, "give": 2, "302": 2, "respons": 2, "init": 2, "creat": 2, "imposs": 2, "ll": 2, "appropri": 2, "l": 2, "outcom": 2, "scan": 2, "dump": 2, "sure": 2, "anyth": 2, "realli": 2, "happen": 2, "psql": 2, "h": 2, "p": 2, "3355": 2, "u": 2, "databas": [2, 3], "until": 2, "successfulli": 2, "onc": 2, "rm": 2, "rf": 2, "postgresql": 2, "leav": 2, "untouch": 2, "forget": 2, "delet": 2, "pars": 2, "author": [2, 3], "arbitrari": 2, "due": 2, "format": 2, "hand": 2, "cumbersom": 2, "assist": 2, "accept": 2, "argument": 2, "we": 2, "qa": 2, "approach": 2, "alemb": 2, "unreason": 2, "exclus": 2, "therefor": 2, "possibl": 2, "popul": 2, "workflow": 2, "stabil": 2, "exodus_gw_db_migration_mod": 2, "caus": 2, "refresh": 2, "everi": 2, "column": 2, "type": 2, "exodus_gw_db_reset": 2, "stabl": 2, "autogen": 2, "unset": 2, "restart": 2, "result": 2, "pull": 2, "microservic": 3, "deliveri": 3, "refer": 3, "guid": 3, "platform": 3, "authent": 3, "migrat": 3, "tox": 3, "systemd": 3, "base": 3, "spoof": 3, "gatewai": 3, "cdn": 3, "expos": 3, "tool": 3, "usag": 3, "architectur": 3, "fit": 3}, "objects": {"exodus_gw.settings": [[1, 0, 1, "", "Settings"]], "exodus_gw.settings.Settings": [[1, 1, 1, "", "actor_max_backoff"], [1, 1, 1, "", "actor_time_limit"], [1, 1, 1, "", "autoindex_filename"], [1, 1, 1, "", "autoindex_partial_excludes"], [1, 1, 1, "", "call_context_header"], [1, 1, 1, "", "cdn_cookie_ttl"], [1, 1, 1, "", "cdn_flush_on_commit"], [1, 1, 1, "", "cdn_max_expire_days"], [1, 1, 1, "", "cdn_signature_timeout"], [1, 1, 1, "", "config_cache_ttl"], [1, 1, 1, "", "cron_cleanup"], [1, 1, 1, "", "db_migration_mode"], [1, 1, 1, "", "db_migration_revision"], [1, 1, 1, "", "db_reset"], [1, 1, 1, "", "db_service_host"], [1, 1, 1, "", "db_service_pass"], [1, 1, 1, "", "db_service_port"], [1, 1, 1, "", "db_service_user"], [1, 1, 1, "", "db_session_max_tries"], [1, 1, 1, "", "db_url"], [1, 1, 1, "", "entry_point_files"], [1, 1, 1, "", "history_timeout"], [1, 1, 1, "", "ini_path"], [1, 1, 1, "", "item_yield_size"], [1, 1, 1, "", "log_config"], [1, 1, 1, "", "publish_paths"], [1, 1, 1, "", "publish_timeout"], [1, 1, 1, "", "s3_pool_size"], [1, 1, 1, "", "scheduler_delay"], [1, 1, 1, "", "scheduler_interval"], [1, 1, 1, "", "task_deadline"], [1, 1, 1, "", "upload_meta_fields"], [1, 1, 1, "", "worker_health_filepath"], [1, 1, 1, "", "worker_keepalive_interval"], [1, 1, 1, "", "worker_keepalive_timeout"], [1, 1, 1, "", "write_batch_size"], [1, 1, 1, "", "write_max_tries"], [1, 1, 1, "", "write_max_workers"], [1, 1, 1, "", "write_queue_size"], [1, 1, 1, "", "write_queue_timeout"]]}, "objtypes": {"0": "py:class", "1": "py:attribute"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "attribute", "Python attribute"]}, "titleterms": {"api": 0, "refer": 0, "deploy": 1, "guid": [1, 2], "target": 1, "platform": 1, "authent": [1, 2], "author": 1, "databas": 1, "migrat": [1, 2], "set": 1, "cdn": 1, "cach": 1, "flush": 1, "fast": 1, "purg": 1, "credenti": 1, "develop": 2, "run": 2, "exodu": [2, 3], "gw": [2, 3], "servic": 2, "tox": 2, "systemd": 2, "base": 2, "environ": 2, "prerequisit": 2, "instal": 2, "uninstal": 2, "configur": 2, "cheat": 2, "sheet": 2, "spoof": 2, "disabl": 2, "dure": 2, "content": 3, "overview": 3}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1, "sphinx": 60}, "alltitles": {"API Reference": [[0, "api-reference"]], "Deployment Guide": [[1, "deployment-guide"]], "Target platform": [[1, "target-platform"]], "Authentication & Authorization": [[1, "authentication-authorization"]], "Database Migrations": [[1, "database-migrations"]], "Settings": [[1, "settings"]], "CDN cache flush": [[1, "cdn-cache-flush"]], "Fast Purge credentials": [[1, "id1"]], "Development Guide": [[2, "development-guide"]], "Running exodus-gw services with tox": [[2, "running-exodus-gw-services-with-tox"]], "Systemd-based development environment": [[2, "systemd-based-development-environment"]], "Prerequisites": [[2, "prerequisites"]], "Installation": [[2, "installation"]], "Uninstallation": [[2, "uninstallation"]], "Configuration": [[2, "configuration"]], "Cheat sheet": [[2, "cheat-sheet"]], "Spoofing authentication": [[2, "spoofing-authentication"]], "Disabling migrations during development": [[2, "disabling-migrations-during-development"]], "exodus-gw": [[3, "exodus-gw"]], "Contents:": [[3, null]], "Overview": [[3, "overview"]]}, "indexentries": {"settings (class in exodus_gw.settings)": [[1, "exodus_gw.settings.Settings"]], "actor_max_backoff (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.actor_max_backoff"]], "actor_time_limit (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.actor_time_limit"]], "autoindex_filename (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.autoindex_filename"]], "autoindex_partial_excludes (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.autoindex_partial_excludes"]], "call_context_header (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.call_context_header"]], "cdn_cookie_ttl (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.cdn_cookie_ttl"]], "cdn_flush_on_commit (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.cdn_flush_on_commit"]], "cdn_max_expire_days (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.cdn_max_expire_days"]], "cdn_signature_timeout (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.cdn_signature_timeout"]], "config_cache_ttl (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.config_cache_ttl"]], "cron_cleanup (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.cron_cleanup"]], "db_migration_mode (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_migration_mode"]], "db_migration_revision (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_migration_revision"]], "db_reset (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_reset"]], "db_service_host (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_service_host"]], "db_service_pass (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_service_pass"]], "db_service_port (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_service_port"]], "db_service_user (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_service_user"]], "db_session_max_tries (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_session_max_tries"]], "db_url (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.db_url"]], "entry_point_files (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.entry_point_files"]], "history_timeout (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.history_timeout"]], "ini_path (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.ini_path"]], "item_yield_size (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.item_yield_size"]], "log_config (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.log_config"]], "publish_paths (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.publish_paths"]], "publish_timeout (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.publish_timeout"]], "s3_pool_size (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.s3_pool_size"]], "scheduler_delay (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.scheduler_delay"]], "scheduler_interval (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.scheduler_interval"]], "task_deadline (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.task_deadline"]], "upload_meta_fields (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.upload_meta_fields"]], "worker_health_filepath (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.worker_health_filepath"]], "worker_keepalive_interval (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.worker_keepalive_interval"]], "worker_keepalive_timeout (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.worker_keepalive_timeout"]], "write_batch_size (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.write_batch_size"]], "write_max_tries (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.write_max_tries"]], "write_max_workers (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.write_max_workers"]], "write_queue_size (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.write_queue_size"]], "write_queue_timeout (exodus_gw.settings.settings attribute)": [[1, "exodus_gw.settings.Settings.write_queue_timeout"]]}})